---
 - name: Import Secret Vars
   include_vars: "{{ item }}"
   with_items:
    - "secret.yml"


 - name: Get PHP Xcache Source Code
   uri:
    url: "{{ xcache_package_url }}"
    dest: "{{ build_dir }}"
    creates: "{{ build_dir }}/{{ xcache_package }}.tar.bz2"

 - block: 
    - debug: 
       msg: Build PHP Source Code
    - unarchive:
       src: "{{ build_dir }}/{{ xcache_package }}.tar.bz2"
       dest: "{{ build_dir }}"
       copy: no
       creates: "{{ build_dir }}/{{ xcache_package }}"
    - shell: cd "{{ build_dir }}/{{ xcache_package }}" && {{ php_install_dir }}/bin/phpize
    - shell: cd "{{ build_dir }}/{{ xcache_package }}" && ./configure --enable-xcache --with-php-config={{ php_install_dir }}/bin/php-config
    - shell: cd "{{ build_dir }}/{{ xcache_package }}" && make && make install
    - shell: echo "extension = xcache.so" >> {{ php_install_dir }}/etc/php.ini
...
